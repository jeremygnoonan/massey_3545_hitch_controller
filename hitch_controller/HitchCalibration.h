// HitchCalibration.h
#ifndef HitchCalibration_h
#define HitchCalibration_h

#include <Arduino.h>

class HitchCalibration {
  private:    
    uint8_t sensorPin; 
    int averageIndex;
    const int averageCount = 80;
    const int positionCount = 113;
    int averagedValues[80] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
    int positionData[113] = {301,302,303,304,305,306,307,308,309,310,311,312,313,314,316,318,319,320,321,322,323,324,326,327,329,330,331,332,333,334,335,336,337,339,340,342,343,344,346,347,348,349,350,351,353,354,356,357,359,360,361,362,363,364,365,366,368,369,371,372,373,374,375,376,377,379,380,381,382,383,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,-409,-408,-407,-406,-405,-404,-403,-402,-401,-400,-399,-398,-397,-396,-395,-394,-393,-392};
    int getCurrentAverage();

  public:
    HitchCalibration(uint8_t pin);
    
    int getPosition();

    void updateAverage();

};

#endif
